<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header Example</title>
    <!-- FontAwesome CDN -->
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <style>
        .navbar {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            background-color: white;
        }

        .navbar-brand img {
            height: 90px;
        }

        .nav-link {
            font-weight: 700;
            /* Làm chữ đậm hơn */
            font-size: 18px;
            /* Làm chữ to hơn */
            color: #343a40;
            margin: 0 15px;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: #007bff;
            transform: translateY(-3px);
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            border-radius: 25px;
            padding: 10px 40px 10px 15px;
            width: 300px;
            transition: width 0.3s ease;
            font-size: 16px;
            /* Tăng kích thước chữ trong hộp tìm kiếm */
        }

        .search-box input:focus {
            width: 350px;
            outline: none;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        }

        .search-box .fa-search {
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            color: #007bff;
        }

        .icon-btn {
            position: relative;
            margin-left: 20px;
            font-size: 22px;
            /* Tăng kích thước chữ các biểu tượng */
            color: #343a40;
            transition: transform 0.3s ease;
        }

        .icon-btn:hover {
            transform: scale(1.1);
            color: #007bff;
        }

        .icon-btn .badge {
            position: absolute;
            top: -5px;
            right: -10px;
            background: #007bff;
            color: white;
            font-size: 12px;
            border-radius: 50%;
        }

        .dropdown-menu {
            min-width: 200px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <!-- Logo -->
            <a class="navbar-brand" href="#">
                <img src="/images/logos/logo.png" alt="Logo">
            </a>
            <!-- Contact -->
            <span class="navbar-text me-3 text-muted" style="font-size: 18px; font-weight: 700;">
            </span>
            <!-- Menu -->
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Danh mục sản phẩm
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="categoryDropdown">
                            <li><a class="dropdown-item" href="#">Case, nguồn, tản nhiệt</a></li>
                            <li><a class="dropdown-item" href="#">Ổ cứng, ram</a></li>
                            <li><a class="dropdown-item" href="#">Mainboard, CPU, VGA</a></li>
                            <li><a class="dropdown-item" href="#">Màn hình, bàn phím, chuột, tai nghe...</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#">Bài viết</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Khuyến mãi</a></li>
                </ul>
            </div>
            <!-- Search Box -->
            <div class="search-box">
                <input type="text" class="form-control" placeholder="Tìm kiếm laptop và phụ kiện">
                <i class="fas fa-search"></i>
            </div>
            <!-- Icons Section (Message, Cart, User) -->
            <div class="d-flex align-items-center">
                <!-- Icon Message -->
                <a href="#" class="icon-btn mx-2">
                    <i class="fas fa-comment"></i>
                </a>
                <!-- Icon Cart -->
                <a href="#" class="icon-btn mx-2">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge">0</span>
                </a>

		<!-- header top -->
		<div class="header_top">
			<div class="container">
				<div class="row">
					<div class="col-md-8">
						<div class="full">
							<div class="topbar-left">
								<ul class="list-inline">
									<li> <span class="topbar-label"><i class="fa  fa-home"></i></span> <span
											class="topbar-hightlight">540 Lorem Ipsum New York, AB 90218</span>
									</li>
									<li> <span class="topbar-label"><i class="fa fa-envelope-o"></i></span> <span
											class="topbar-hightlight"><a
												href="mailto:info@yourdomain.com">info@yourdomain.com</a></span>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="col-md-4 right_section_header_top">
						<div class="float-left">
							<div class="social_icon">
								<ul class="list-inline">
									<li><a class="fa fa-facebook" href="https://www.facebook.com/" title="Facebook"
											target="_blank"></a></li>
									<li><a class="fa fa-google-plus" href="https://plus.google.com/" title="Google+"
											target="_blank"></a></li>
									<li><a class="fa fa-twitter" href="https://twitter.com" title="Twitter"
											target="_blank"></a></li>
									<li><a class="fa fa-linkedin" href="https://www.linkedin.com" title="LinkedIn"
											target="_blank"></a></li>
									<li><a class="fa fa-instagram" href="https://www.instagram.com" title="Instagram"
											target="_blank"></a></li>
								</ul>
							</div>
						</div>
						<div class="float-right">
							<div class="make_appo"> <a class="btn white_btn" href="make_appointment.html">Make
									Appointment</a> </div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- end header top -->
		<!-- header bottom -->
		<div class="header_bottom">
			<div class="container">
				<div class="row">
					<div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
						<!-- logo start -->
						<div class="logo"> <a href="it_home.html"><img src="images/logos/it_logo.png" alt="logo" /></a>
						</div>
						<!-- logo end -->
					</div>
					<div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
						<!-- menu start -->
						<div class="menu_side">
							<div id="navbar_menu">
								<ul class="first-ul">
									<li> <a class="active" href="user/">Home</a>
										<ul>
											<li><a href="it_home">It Home Page</a></li>
											<li><a href="it_home_dark">It Dark Home Page</a></li>
										</ul>
									</li>
									<li><a href="it_about.html">About Us</a></li>
									<li> <a href="it_service.html">Service</a>
										<ul>
											<li><a href="it_service_list.html">Services list</a></li>
											<li><a href="it_service_detail.html">Services Detail</a></li>
										</ul>
									</li>
									<li> <a href="it_blog.html">Blog</a>
										<ul>
											<li><a href="it_blog.html">Blog List</a></li>
											<li><a href="it_blog_grid.html">Blog Grid</a></li>
											<li><a href="it_blog_detail.html">Blog Details</a></li>
										</ul>
									</li>
									<li> <a href="#">Pages</a>
										<ul>
											<li><a href="it_career.html">Career</a></li>
											<li><a href="it_price.html">Pricing</a></li>
											<li><a href="it_faq.html">Faq</a></li>
											<li><a href="it_privacy_policy.html">Privacy Policy</a></li>
											<li><a href="it_error.html">Error 404</a></li>
										</ul>
									</li>
									<li> <a href="it_shop.html">Shop</a>
										<ul>
											<li><a href="it_shop.html">Shop List</a></li>
											<li><a href="it_shop_detail.html">Shop Detail</a></li>
											<li><a href="/user/cart">Shopping Cart</a></li>
											<li><a href="it_checkout.html">Checkout</a></li>
											<li><a href="/user/orders"><i class="fas fa-shopping-bag"></i> Đơn hàng của tôi</a></li>
										</ul>
									</li>
									<li> <a href="it_contact.html">Contact</a>
										<ul>
											<li><a href="it_contact.html">Contact Page 1</a></li>
											<li><a href="it_contact_2.html">Contact Page 2</a></li>
										</ul>
									</li>
									<!-- Menu động dựa trên trạng thái người dùng -->
									<!-- Thay thế phần menu user bằng -->
									<!--<th:block th:if="${session.currentUser == null}">
										<li><a href="/login"><i class="fas fa-sign-in-alt"></i> Login</a></li>
										<li><a href="/register"><i class="fas fa-user-plus"></i> Register</a></li>
									</th:block>
									<th:block th:if="${session.currentUser != null}">
										<li class="nav-item dropdown">
											<a class="nav-link dropdown-toggle d-flex align-items-center" href="#"
												id="userDropdown" role="button" data-bs-toggle="dropdown"
												aria-expanded="false">
												<img src="images/it_service/5087592.png" alt="User Icon"
													class="rounded-circle me-2" style="width: 30px; height: 30px;">
												<span th:text="${session.currentUser.fullName}">User Name</span>
											</a>
											<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
												<li>
													<a class="dropdown-item" href="/profile">
														<i class="fas fa-user"></i> Profile
													</a>
												</li>
												<li>
													<a class="dropdown-item" href="/user/changePass">
														<i class="fas fa-lock"></i> Change Password
													</a>
												</li>
												<li>
													<form action="/logout" method="post" th:csrf="true">
														<button type="submit" class="dropdown-item">
															<i class="fas fa-sign-out-alt"></i> Logout
														</button>
													</form>
												</li>
											</ul>
										</li>
									</th:block>-->
									<th:block th:if="${user == null}">
										<li><a href="/login"><i class="fas fa-sign-in-alt"></i> Login</a></li>
										<li><a href="/register"><i class="fas fa-user-plus"></i> Register</a></li>
									</th:block>
									<th:block th:if="${user != null}">
										<li class="nav-item dropdown">
											<a class="nav-link dropdown-toggle d-flex align-items-center" href="#"
												id="userDropdown" role="button" data-bs-toggle="dropdown"
												aria-expanded="false">
												<img src="images/it_service/5087592.png" alt="User Icon"
													class="rounded-circle me-2" style="width: 30px; height: 30px;">
												[[${user.fullName}]]
											</a>
											<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
												<li><a class="dropdown-item" href="/profile"><i class="fas fa-user"></i>
														Profile</a></li>
												<li><a class="dropdown-item" href="user/changePass"><i
															class="fas fa-lock"></i> Change Password</a></li>
												<li>
													<form action="/logout" method="post" th:csrf="true">
														<button type="submit" class="dropdown-item"><i
																class="fas fa-sign-out-alt"></i> Logout</button>
													</form>
												</li>
											</ul>
										</li>
									</th:block>
								</ul>
							</div>
							<div class="search_icon">
								<ul>
									<li><a href="#" data-toggle="modal" data-target="#search_bar"><i
												class="fa fa-search" aria-hidden="true"></i></a></li>
								</ul>
							</div>
						</div>
						<!-- menu end -->
					</div>
				</div>
			</div>
		</div>
		<!-- header bottom end -->
	</header>
	<!-- Nội dung động -->
	<div th:replace="${content}"></div>
	<!-- Bootstrap Scripts -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<!-- menu js -->
	<script src="js/menumaker.js"></script>
	<!-- wow animation -->
	<script src="js/wow.js"></script>
	<!-- custom js -->
	<script src="js/custom.js"></script>
	<!-- revolution js files -->
	<script src="revolution/js/jquery.themepunch.tools.min.js"></script>
	<script src="revolution/js/jquery.themepunch.revolution.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.actions.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.carousel.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.kenburn.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.layeranimation.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.migration.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.navigation.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.parallax.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.slideanims.min.js"></script>
	<script src="revolution/js/extensions/revolution.extension.video.min.js"></script>
	<!-- map js -->
	<script>
		// This example adds a marker to indicate the position of Bondi Beach in Sydney,
		// Australia.
		function initMap() {
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom: 11,
				center: {lat: 40.645037, lng: -73.880224},
				styles: [
					{
						elementType: 'geometry',
						stylers: [{color: '#fefefe'}]
					},
					{
						elementType: 'labels.icon',
						stylers: [{visibility: 'off'}]
					},
					{
						elementType: 'labels.text.fill',
						stylers: [{color: '#616161'}]
					},
					{
						elementType: 'labels.text.stroke',
						stylers: [{color: '#f5f5f5'}]
					},
					{
						featureType: 'administrative.land_parcel',
						elementType: 'labels.text.fill',
						stylers: [{color: '#bdbdbd'}]
					},
					{
						featureType: 'poi',
						elementType: 'geometry',
						stylers: [{color: '#eeeeee'}]
					},
					{
						featureType: 'poi',
						elementType: 'labels.text.fill',
						stylers: [{color: '#757575'}]
					},
					{
						featureType: 'poi.park',
						elementType: 'geometry',
						stylers: [{color: '#e5e5e5'}]
					},
					{
						featureType: 'poi.park',
						elementType: 'labels.text.fill',
						stylers: [{color: '#9e9e9e'}]
					},
					{
						featureType: 'road',
						elementType: 'geometry',
						stylers: [{color: '#eee'}]
					},
					{
						featureType: 'road.arterial',
						elementType: 'labels.text.fill',
						stylers: [{color: '#3d3523'}]
					},
					{
						featureType: 'road.highway',
						elementType: 'geometry',
						stylers: [{color: '#eee'}]
					},
					{
						featureType: 'road.highway',
						elementType: 'labels.text.fill',
						stylers: [{color: '#616161'}]
					},
					{
						featureType: 'road.local',
						elementType: 'labels.text.fill',
						stylers: [{color: '#9e9e9e'}]
					},
					{
						featureType: 'transit.line',
						elementType: 'geometry',
						stylers: [{color: '#e5e5e5'}]
					},
					{
						featureType: 'transit.station',
						elementType: 'geometry',
						stylers: [{color: '#000'}]
					},
					{
						featureType: 'water',
						elementType: 'geometry',
						stylers: [{color: '#c8d7d4'}]
					},
					{
						featureType: 'water',
						elementType: 'labels.text.fill',
						stylers: [{color: '#b1a481'}]
					}
				]
			});
			var image = 'images/it_service/location_icon_map_cont.png';
			var beachMarker = new google.maps.Marker({
				position: {lat: 40.645037, lng: -73.880224},
				map: map,
				icon: image
			});
		}
	</script>
	<!-- google map js -->
	<script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8eaHt9Dh5H57Zh0xVTqxVdBFCvFMqFjQ&callback=initMap"></script>



	<!-- Thêm vào cuối file, trước </body> -->
	<!--<script th:inline="javascript">
		// Kiểm tra session
		console.log('Session user:', /*[[${session.currentUser}]]*/ null);

		// Kiểm tra timeout
		const checkSession = () => {
			fetch('/api/check-session')
				.then(response => response.json())
				.then(data => {
					console.log('Session status:', data);
					if (!data.valid) {
						window.location.href = '/login';
					}
				});
		};

		// Kiểm tra mỗi 5 phút
		setInterval(checkSession, 300000);
	</script>-->
                <a href="#" class="icon-btn mx-2">
                    <img src="/images/logos/icon_notif.png" alt="Icon Notif" style="width: 24px; height: 24px;">
                    <span class="badge">0</span>
                </a>

                <!-- User Icon with Dropdown -->
                <div class="dropdown">
                    <a href="#" class="icon-btn dropdown-toggle" id="userDropdown" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <i class="fas fa-user"></i>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="userDropdown">
                        <li><a class="dropdown-item" href="#">Xin chào, User</a></li>
                        <li><a class="dropdown-item" href="#">Thông tin cá nhân</a></li>
                        <li><a class="dropdown-item" href="#">Lịch sử đơn hàng</a></li>
                        <li><a class="dropdown-item" href="/logout">Đăng xuất</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script> -->
</body>

</html>
