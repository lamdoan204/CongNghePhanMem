<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Nhập OTP</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #f4f4f9;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			margin: 0;
		}

		.otp-container {
			background-color: #ffffff;
			padding: 20px;
			border-radius: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			width: 300px;
			text-align: center;
		}

		.otp-container h2 {
			margin-bottom: 20px;
			color: #333333;
		}

		.otp-input-group {
			display: flex;
			justify-content: space-between;
			margin-bottom: 20px;
		}

		.otp-input-group input {
			width: 40px;
			height: 50px;
			font-size: 20px;
			text-align: center;
			border: 1px solid #cccccc;
			border-radius: 5px;
		}

		.otp-container button {
			width: 100%;
			padding: 10px;
			background-color: #007bff;
			color: #ffffff;
			border: none;
			border-radius: 5px;
			font-size: 16px;
			cursor: pointer;
		}

		.otp-container button:hover {
			background-color: #0056b3;
		}

		#countdown {
			margin-bottom: 20px;
			color: #555555;
			font-size: 16px;
		}
	</style>
</head>

<<<<<<< HEAD
<body>
	<section>
		<div class="otp-container">
			<h2>Nhập OTP</h2>
			<th:block th:if="${msg != null}">
				<div class="d-flex justify-content-center align-items-center" style="min-height: 100px;">
					<p class="text-center fs-4 fw-bold"
						th:class="${msg.contains('successful') ? 'text-success' : 'text-danger'}" th:text="${msg}"></p>
=======
<body id="default_theme" class="it_service">
	<section class="mt-5">
		<div class="container">
			<div class="row">
				<div class="col-md-6 offset-md-3">
					<div class="card shadow-lg">
						<!-- Header -->
						<div class="card-header text-center text-white bg-primary fs-4">
							<i class="fas fa-user-plus me-2"></i>Nhập OTP
						</div>
						<th:block th:if="${msg != null}">
							<div class="d-flex justify-content-center align-items-center" style="min-height: 100px;">
								<p class="text-center fs-4 fw-bold"
									th:class="${msg.contains('successful') ? 'text-success' : 'text-danger'}"
									th:text="${msg}"></p>
						</th:block>
						<div></div>
						<div class="card-body">
							<div id="countdown" class="text-center fs-4 mb-3" style="color: black;"></div>

							<!-- Login Form -->
							<form action="/verifyOTP" method="post">
								<!-- OTP -->
								<div class="mb-3">
									<label for="otp" class="form-label">Enter OTP</label>
									<div class="input-group">
										<span class="input-group-text"><i class="fas fa-key"></i></span>
										<input type="text" id="otp" name="otp" class="form-control"
											placeholder="Enter your OTP" required>
									</div>
								</div>
								<!-- Submit Button -->
								<div class="d-grid">
									<button type="submit" class="btn btn-primary">
										<i class="fas fa-paper-plane"></i> Submit OTP
									</button>
								</div>
								

							</form>
						</div>
					</div>
>>>>>>> 0d392fda51990abf6074e46554c45d7f6c609fe4
				</div>
			</th:block>

			<div id="countdown">Thời gian còn lại: </div>
			<form action="/verifyOTP" method="post" id="otpForm">
				<div class="otp-input-group">
					<input type="text" maxlength="1" name="otp1" required>
					<input type="text" maxlength="1" name="otp2" required>
					<input type="text" maxlength="1" name="otp3" required>
					<input type="text" maxlength="1" name="otp4" required>
					<input type="text" maxlength="1" name="otp5" required>
					<input type="text" maxlength="1" name="otp6" required>
				</div>
				<button type="submit">Xác nhận</button>
			</form>
		</div>

		<script th:inline="javascript">
			// Auto-focus logic for OTP inputs
			const inputs = document.querySelectorAll('.otp-input-group input');
			inputs.forEach((input, index) => {
				input.addEventListener('input', (e) => {
					if (e.target.value.length === 1 && index < inputs.length - 1) {
						// Focus to the next input
						inputs[index + 1].focus();
					} else if (e.target.value.length === 0 && index > 0) {
						// Focus to the previous input if backspace
						inputs[index - 1].focus();
					}
				});

				// Allow only numeric input
				input.addEventListener('keydown', (e) => {
					if (e.key !== "Backspace" && (e.key < "0" || e.key > "9")) {
						e.preventDefault();
					}
				});
			});

			// Countdown timer logic
			var remainingTime =  /*[[${remainingTime}]]*/ 0;//[[${remainingTime}]];
			const countdownElement = document.getElementById('countdown');

			function startCountdown() {
				const interval = setInterval(() => {
					if (remainingTime <= 0) {
						clearInterval(interval);
					} else {
						const minutes = Math.floor(remainingTime / 60000);
						const seconds = Math.floor((remainingTime % 60000) / 1000);
						countdownElement.innerText = `Thời gian nhập OTP còn lại: ${minutes} phút ${seconds} giây`;
						remainingTime -= 1000;
					}
				}, 1000);
			}

			startCountdown();
		</script>
</body>

</html>